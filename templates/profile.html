{% extends "layout.html" %}
{% block title %}Profil Saya{% endblock %}

{% block content %}
<div class="container">
    <h2>Profil Saya</h2>
    <form method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="foto">Foto Profil</label>
            <input type="file" name="foto" id="foto" accept="image/*" onchange="previewFoto(event)">
        </div>

        <img id="foto-preview" class="profile-picture" 
            style="margin-top: 10px; width: 120px; height: 120px; border-radius: 50%;" 
            src="{% if profile and profile.foto %}{{ url_for('static', filename='uploads/' + profile.foto) }}{% else %}{{ url_for('static', filename='images/default_profile.png') }}{% endif %}">
       
        <div class="form-group">
            <label for="nama">Nama</label>
            <input type="text" name="nama" id="nama" value="{{ profile.nama if profile else '' }}" class="form-control">
        </div>
        <div class="form-group">
            <label for="nama_lengkap">Nama Lengkap</label>
            <input type="text" name="nama_lengkap" id="nama_lengkap" value="{{ profile.nama_lengkap if profile else '' }}" class="form-control">
        </div>
        <div class="form-group">
            <label for="no_telp">No Telepon</label>
            <input type="text" name="no_telp" id="no_telp" value="{{ profile.no_telp if profile else '' }}" class="form-control">
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" name="email" id="email" value="{{ profile.email if profile else '' }}" class="form-control">
        </div>
        <div class="form-group">
            <label for="alamat">Alamat</label>
            <input type="text" name="alamat" id="alamat" value="{{ profile.alamat if profile else '' }}" class="form-control">
        </div>
        <div class="form-group">
            <label for="payment">Metode Pembayaran</label>
            <input type="text" name="payment" id="payment" value="{{ profile.payment if profile else '' }}" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary">Simpan</button>
    </form>
</div>
{% endblock %}